# 项目框架介绍文档

## 📋 文档目的-初始文档
本文档旨在为AI工具提供项目的核心框架信息，使其在有限的上下文长度内快速定位问题和生成相关代码。

## 🏗️ 项目架构概览

### 目录结构标准
```
project_root/
├── docs/                   # 文档目录
│   ├── PROJECT_FRAMEWORK.md
│   ├── AI_PROMPTS.md
│   ├── CODING_STANDARDS.md
│   └── LOGGING_GUIDELINES.md
├── src/                    # 源代码目录
│   ├── main.py            # 主程序入口
│   ├── config/            # 配置文件
│   │   ├── __init__.py
│   │   ├── settings.py    # 应用设置
│   │   └── database.py    # 数据库配置
│   ├── models/            # 数据模型
│   │   ├── __init__.py
│   │   └── base_model.py
│   ├── services/          # 业务逻辑层
│   │   ├── __init__.py
│   │   └── base_service.py
│   ├── controllers/       # 控制器层
│   │   ├── __init__.py
│   │   └── base_controller.py
│   ├── utils/             # 工具函数
│   │   ├── __init__.py
│   │   ├── logger.py      # 日志工具
│   │   ├── validators.py  # 验证工具
│   │   └── helpers.py     # 辅助函数
│   └── tests/             # 测试文件
│       ├── __init__.py
│       └── test_main.py
├── requirements.txt       # 依赖包列表
├── .env                  # 环境变量配置
├── .gitignore           # Git忽略文件
└── README.md            # 项目说明
```

## 🔧 核心组件说明

### 1. 配置管理 (config/)
- **settings.py**: 应用全局配置，包括调试模式、API设置等
- **database.py**: 数据库连接配置，支持多环境切换
- **.env**: 敏感信息存储，如密码、API密钥等

### 2. 数据层 (models/)
- **base_model.py**: 基础模型类，定义通用字段和方法
- 具体模型文件按业务模块命名

### 3. 业务逻辑层 (services/)
- **base_service.py**: 基础服务类，定义通用业务逻辑
- 具体服务类按功能模块组织

### 4. 控制器层 (controllers/)
- **base_controller.py**: 基础控制器，处理HTTP请求响应
- 具体控制器按API路由组织

### 5. 工具库 (utils/)
- **logger.py**: Winston风格的日志工具
- **validators.py**: 数据验证工具
- **helpers.py**: 通用辅助函数

## 🔍 问题定位指南

### 常见问题类型及定位方法

| 问题类型 | 首先检查 | 相关文件 |
|---------|----------|----------|
| 配置问题 | config/settings.py, .env | 配置相关代码 |
| 数据库问题 | config/database.py, models/ | 数据层代码 |
| 业务逻辑问题 | services/ | 服务层代码 |
| API问题 | controllers/ | 控制器代码 |
| 日志问题 | utils/logger.py | 日志配置 |
| 验证问题 | utils/validators.py | 验证逻辑 |

### 快速排查步骤
1. **确认问题类型** - 根据错误信息判断属于哪个层级
2. **检查相关配置** - 查看对应的配置文件
3. **查看日志信息** - 分析详细的日志输出
4. **定位核心文件** - 根据问题类型找到核心处理文件
5. **检查依赖关系** - 确认相关模块的依赖是否正确

## 🚀 开发流程

### 新功能开发流程
1. **需求分析** → 确定功能范围和技术方案
2. **设计数据模型** → 在models/中创建相关模型
3. **实现业务逻辑** → 在services/中编写核心逻辑
4. **创建API接口** → 在controllers/中实现接口
5. **编写测试** → 在tests/中添加测试用例
6. **更新文档** → 同步更新相关文档

### 代码修改流程
1. **定位问题** → 使用本文档快速定位
2. **分析影响范围** → 确定修改可能影响的其他模块
3. **实施修改** → 按层级进行修改
4. **测试验证** → 运行相关测试确保功能正常
5. **更新日志** → 记录修改内容和原因

## 📝 注意事项

### 开发规范
- 所有代码必须包含详细的中文注释
- 使用JSDoc3风格的文档注释
- 每个函数都需要添加日志记录
- 敏感信息必须存储在.env文件中
- 遵循PEP8编码规范

### AI协作要点
- 在生成代码前，AI应当先查阅本文档了解项目结构
- 遇到配置缺失时，AI应主动询问而非假设
- 生成的代码必须符合项目的目录结构和命名规范
- 所有新增功能都需要相应的日志记录和错误处理

## 🔄 文档维护
- 项目结构发生变化时及时更新本文档
- 新增核心组件时补充相应的说明
- 定期审查和优化问题定位指南
- 保持与实际代码结构的一致性 