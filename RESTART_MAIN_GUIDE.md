# main.py 重启指南 - 启用Web前端实时日志显示

## 🎯 目标
将main.py的日志同时输出到文件，使Web前端能够实时显示系统运行状态。

## 📝 已完成的配置修改
✅ **已在main.py中添加文件日志输出配置**

新的日志配置包含：
- 保持原有的控制台输出（stderr）
- 新增文件输出到 `logs/xianyu_agent.log`
- 自动日志轮转（10MB时轮转）
- 保留7天日志历史
- 自动压缩旧日志

## 🔄 重启步骤

### 1. 停止当前运行的main.py
在运行main.py的终端中按 `Ctrl + C` 停止程序

### 2. 重新启动main.py
```bash
python main.py
```

### 3. 验证配置生效
启动后应该看到新的日志消息：
```
2025-05-31 14:51:00.123 | INFO     | __main__:<module>:xxx - 日志级别设置为: DEBUG
2025-05-31 14:51:00.124 | INFO     | __main__:<module>:xxx - 🌐 Web前端可访问: http://localhost:8080
```

## ✅ 预期效果

重启后，main.py将同时输出日志到：
1. **控制台** - 保持原有的彩色输出
2. **文件** - `logs/xianyu_agent.log`（Web前端监控）

Web前端将实时显示：
- 🫀 **心跳包消息** - 绿色标识
- 👤 **用户消息** - 蓝色标识  
- 🤖 **AI回复** - 紫色标识
- ⚙️ **系统状态** - 灰色标识
- ❌ **错误信息** - 红色标识

## 🌐 Web访问
重启后可通过以下地址查看实时日志：
- **Web界面**: http://localhost:8080
- **API状态**: http://localhost:8080/api/status

## 🧪 测试功能
如果main.py暂时没有运行，可以在Web界面上点击 **"🎭 演示数据"** 按钮查看演示效果。

---
**注意**: 重启main.py不会影响Web前端的运行，两者是独立的服务。 